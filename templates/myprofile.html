{% extends "navbar.html" %}
{% set active_page = "myprofile" %}
{% block content %}
<head>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
</head>
<main role="main" class="container">
    <h5 align="center">My profile</h5>
    <h5>Statistic</h5>
    {% if user.solution %}
    <canvas id="chart" width="900" height="400"></canvas>
    {% else %}
    <p>Unable to create statistic, because there is no submits</p>
    {% endif %}
    <script>
        var ctx = document.getElementById("chart").getContext("2d");
        var chart = new Chart(ctx, {
        type: "pie",
        data: {
        labels: {{ labels | safe }},
        datasets: [
        {
        data: {{ data | safe }},
        backgroundColor: {{ colors | safe }},
        borderColor: "rgb(0, 0, 0)",
        borderWidth: 2,
        }
        ]
        },
        });

    </script>
    <a href="{{url_for('logout')}}" class="btn btn-danger">Logout</a>
</main>
{% endblock %}
